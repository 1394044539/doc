## 

Linux和windows一样是操作系统，比windows稳定，大部分时候我们都是把服务部署在Linux上的，且没有可视化界面，因此学会使用Linux的命令是非常重要的，一些Linux的东西都会在命令中进行讲解

实际上Linux中的命令非常非常多，这里也只会列出一部分进行讲解

## 二、Linux一些配置

CentOS 有个很方便的软件安装工具yum，但是默认安装完CentOS，系统里使用的是国外的CentOS更新源，

这就造成了我们使用默认更新源安装或者更新软件时速度很慢的问题，甚至更新失败。
为了使用yum工具能快速的安装更新软件，我们需要将默认的yum更新源配置为国内的更新源。阿里云的源

```
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo 
```

或者网易云的源

```
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo
yum clean all
yum makecache
```

## 二、基本命令

### 全局参数

#### 1、--help

描述：帮助，接在命令后面，用来查看命令的参数和意思

用法：

```
任意命令 --help
```

### 系统相关

#### 1、yum

描述：用来管理软件

语法：

```
yum [options] [command] [package ...]
```

参数：

| 参数          | 作用         |
| ------------- | ------------ |
| -q            | 静默执行     |
| -t            | 忽略错误     |
| -R[分钟]      | 设置等待时间 |
| -y            | 自动应答yes  |
| --skip-broken | 忽略依赖问题 |
| --nogpgcheck  | 忽略GPG验证  |

命令：

| 参数                                | 作用                     |
| ----------------------------------- | ------------------------ |
| check-update                        | 列出所有可更新的软件清单 |
| install <package_name>              | 仅安装指定的软件         |
| update <package_name>               | 更新软件                 |
| list                                | 列出所有可安裝的软件清单 |
| remove <package_name>               | 删除软件包               |
| search \<keyword>                   | 查找软件包               |
| clean [packages,headers,oldheaders] | 清除缓存                 |

常用例子

- 安装软件(以foo-x.x.x.rpm为例）：yum install foo-x.x.x.rpm

- 删除软件：yum remove foo-x.x.x.rpm或者yum erase foo-x.x.x.rpm


- 升级软件：yum upgrade foo或者yum update foo


- 查询信息：yum info foo


- 搜索软件（以包含foo字段为例）：yum search foo


- 显示软件包依赖关系：yum deplist foo


#### 2、shutdown

描述：关键命令

语法：

```shell
shutdown [-t seconds] [-rkhncfF] time [message]
```

参数说明：

| 参数       | 说明                                                         |
| ---------- | ------------------------------------------------------------ |
| -t seconds | 设定在几秒钟之后进行关机程序。                               |
| -k         | 并不会真的关机，只是将警告讯息传送给所有使用者               |
| -r         | 重新开机                                                     |
| -h         | 关机后停机                                                   |
| -n         | 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机 |
| -c         | 取消目前已经进行中的关机动作                                 |
| -f         | 关机时，不做 fsck 动作(检查 Linux 档系统)。                  |
| -F         | 关机时，强迫进行 fsck 动作。                                 |
| time       | 设定关机的时间                                               |
| message    | 传送给所有使用者的警告讯息                                   |

常用例子：

不建议使用

注意点：

- 可以用now代表立即执行，shutdown -h now
- 直接在命令后面接数字代表的是分钟，如shutdown -h 5指的是5分钟后关机 
- 实际上关机有**poweroff**命令，重启有**reboot**命令

### 目录相关

#### 1、mkdir

描述：创建文件夹

语法：

```
mkdir [-p] dirName
```

参数：

| 参数 |                             说明                             |
| ---- | :----------------------------------------------------------: |
| -p   | 递归创建，按照路径创建时，父级路径不存在，如果不加参数，会报错，加上-p则会一起创建 |

常用例子：

- 在当前目录创建文件夹：mkdir test

#### 2、rmdir

描述：删除空文件夹

语法：

```
rmdir [-p] dirName
```

参数：

| 参数 |                             说明                             |
| ---- | :----------------------------------------------------------: |
| -p   | 递归删除空文件夹，按照路径删除时，父级文件夹下面为空会一起删除 |

常用例子：

不用，一般只用rm命令，rmdir只能删除空文件，并不实用

### 文件相关

#### 1、touch

描述：正确的解释应该是修改文件的属性，如果文件不存在则会创建，所以一般该命令就是用来**创建文件**的

语法：

```shell
touch [-acfm][-d<日期时间>][-r<参考文件或目录>] [-t<日期时间>][--help][--version][文件或目录…]
```

参数：

| 参数        | 说明                                     |
| ----------- | ---------------------------------------- |
| a           | 改变档案的读取时间记录                   |
| m           | 改变档案的修改时间记录                   |
| c           | 假如目的档案不存在，不会建立新的档案     |
| f           | 无效                                     |
| r           | 使用参考档的时间记录                     |
| d           | 设定时间与日期，可以使用各种不同的格式   |
| t           | 设定档案的时间记录，格式与 date 指令相同 |
| --no-create | 假如目的档案不存在，不会建立新的档案     |
| --version   | 列出版本讯息                             |

常用例子：

- 创建文件(前提是文件不存在，存在则是修改文件的时间属性为当前系统时间)

  ```shell
  $ touch file.txt
  ```

#### 2、cat

描述：简单理解为查看文件，实际上的意思是连接文件，进行输出，所以也可以应用于重定向等

语法：

```shell
cat [-AbeEnstTuv] [--help] [--version] fileName
```

| 参数 | 说明                                    |
| ---- | --------------------------------------- |
| -n   | 输出行号                                |
| -b   | 输出行号，但是去掉空行                  |
| -s   | 发现连续空行，变为一个空行              |
| -v   | 使用 ^ 和 M- 符号，除了 LFD 和 TAB 之外 |
| -E   | 每行结尾显示$                           |
| -T   | 将 TAB 字符显示为 ^I                    |
| -A   | 等价于 -vET                             |
| -e   | 等价于"-vE"                             |
| -t   | 等价于"-vT"                             |

常用例子：

- 查看文件内容

  ```shell
  cat a.txt
  ```

- 将两个文件写入另一个文件

  ```shell
  cat a.txt b.txt > c.txt	
  ```

- 清空文档内容

  ```shell
  cat /dev/null > test.txt
  ```

注意点：

- 不要使用这个命令查看大文件，比如日志类（不信邪的可以试试）

#### 3、more

描述：一页一页查看文件

语法：

```shell
more [-dlfpcsu] [-num] [+/pattern] [+linenum] [fileNames..]
```

参数：

| 参数      | 说明                                                         |
| --------- | ------------------------------------------------------------ |
| -num      | 一次显示的行数                                               |
| -d        | 在画面下方显示 [Press space to continue, 'q' to quit.]按错键，则会显示 [Press 'h' for instructions.] |
| -l        | 取消遇见特殊字元 ^L（送纸字元）时会暂停的功能                |
| -f        | 计算行数时，以实际上的行数，而非自动换行过后的行数           |
| -p        | 切换页数先清除萤幕后再显示内容                               |
| -c        | 切换页数先显示新内容在清除旧内容                             |
| -u        | 不显示下引号                                                 |
| +/pattern | 正则搜素                                                     |
| +num      | 从第几行开始显示                                             |
| fileNames | 可以阅读负数的文件                                           |

操作命令：

| 操作      | 说明                       |
| --------- | -------------------------- |
| Enter     | 向下一行                   |
| Ctrl+F    | 向下滚动一屏               |
| 空格      | 向下滚动一屏               |
| B或Ctrl+B | 返回上一屏                 |
| =         | 输出当前行号               |
| :f        | 输出文件名和当前行号       |
| V         | 进入vi编译器               |
| !         | 调用Shell执行命令          |
| q         | 退出more                   |
| /字符串   | 会向下找到【字符串】这个字 |

常见例子：

- 查看文件

  ```shell
  #一页20行且看得到行数展示文件
  more -f +20 a.txt
  ```

注意点：

- 依然不建议用more命令查看大文件，因为more是一次加载全部文件的

#### 4、less

描述：一页一页查看文件

语法：

```shell
less [参数] 文件 
```

参数：

| 参数      | 说明                      |
| --------- | ------------------------- |
| -b        | 设置缓冲区大小            |
| -e        | 文件结束后自动离开        |
| -f        | 强迫打开特殊文件          |
| -g        | 只标志最后搜索的关键词    |
| -i        | 忽略搜索时的大小写        |
| -m        | 显示百分比                |
| -N        | 显示行号                  |
| -o 文件名 | 输出到指定文件名中保存    |
| -Q        | 不使用警告音              |
| -s        | 连续的空行变为一行        |
| -x 数字   | 将tab显示为规定数字的空格 |

操作命令：

| 操作              | 说明               |
| ----------------- | ------------------ |
| /字符串           | 向下搜索字符串     |
| ?字符串           | 向上搜索字符串     |
| n                 | 重复前一个搜索     |
| N                 | 反向重复前一个搜索 |
| 空格/f/[pagedown] | 向下翻页           |
| b/[pageup]        | 向上翻页           |
| d                 | 向下翻半页         |
| u                 | 向上翻半页         |
| y/回车            | 向下翻一行         |
| Q                 | 退出less           |

常用例子：

- 查看文件

  ```shell
  less -N text.txt
  ```

注意点：

- more和less的区别

  more是一次性加载全部，less是一屏一屏的加载

#### 5、tail

描述：循环读取文件，约等于可以一直实时查看文件

语法：

```shell
tail [参数] [文件]  
```

参数：

| 参数      | 说明                                 |
| --------- | ------------------------------------ |
| -f        | 循环读取，一直读                     |
| -q        | 不显示处理信息                       |
| -v        | 显示详细处理信息                     |
| -c<数目>  | 显示的字节数                         |
| -n<行数>  | 显示文件尾部n行内容                  |
| --pid=PID | 与-f要结合使用，表示进程的id         |
| -q        | 从不输出给出文件名的首部             |
| -s        | 与-f合用,表示在每次反复的间隔休眠S秒 |

常用命名

- 查看文件(一般用来查看日志)

  ```shell
  tail -500f log.log
  ```

#### 6、vi 或 vim

【vi编辑器的3种模式】
    基本上vi可以分为三种状态，分别是命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode），各模式的功能区分如下：
1) 命令行模式command mode）
      控制屏幕光标的移动，字符、字或行的删除，查找，移动复制某区段及进入Insert mode下，或者到 last line mode。
      命令行模式下的常用命令：
      【1】控制光标移动：↑，↓，j
      【2】删除当前行：dd 
      【3】查找：/字符
      【4】进入编辑模式：i o a
      【5】进入底行模式：:
      
2) 编辑模式（Insert mode）
      只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。
      编辑模式下常用命令：
      【1】ESC 退出编辑模式到命令行模式；
      
3) 底行模式（last line mode）
     将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。
     底行模式下常用命令：
     【1】退出编辑：   :q
     【2】强制退出：   :q!
     【3】保存并退出：  :wq

打开文件

命令：vi 文件名
示例：打开当前目录下的aa.txt文件     vi aa.txt 或者 vim aa.txt

注意：使用vi编辑器打开文件后，并不能编辑，因为此时处于命令模式，点击键盘i/a/o进入编辑模式。

编辑文件

使用vi编辑器打开文件后点击按键：i ，a或者o即可进入编辑模式。

i:在光标所在字符前开始插入
a:在光标所在字符后开始插入
o:在光标所在行的下面另起一新行插入

保存或者取消编辑

保存文件：

第一步：ESC  进入命令行模式
第二步：:     进入底行模式
第三步：wq     保存并退出编辑

取消编辑：

第一步：ESC  进入命令行模式
第二步：:     进入底行模式
第三步：q!     撤销本次修改并退出编辑

### 磁盘(文件/目录)操作命令

#### 1、cd

描述：切换迷离

语法：

```
cd [dirName]
```

常用例子：

- cd /        切换到根目录
- cd /usr        切换到根目录下的usr目录
- cd ../        切换到上一级目录 或者  cd ..
- cd ~        切换到home目录
- cd -        切换到上次访问的目录

#### 2、ls

描述：查看目录下的文件内容

语法：

```
ls [-alrtAFR] [name...]
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 显示所有文件及目录 (**.** 开头的隐藏文件也会列出)            |
| -l   | 除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出 |
| -r   | 将文件以相反次序显示(原定依英文字母次序)                     |
| -t   | 将文件依建立时间之先后次序列出                               |
| -A   | 同 -a ，但不列出 "." (目前目录) 及 ".." (父目录)             |
| -F   | 在列出的文件名称后加一符号；例如可执行档则加 "*", 目录则加 "/" |
| -R   | 若目录下有文件，则以下之文件亦皆依序列出                     |

常用例子：

- 查看所有文件的详细内容：ll

  ll就是ls -l

- 查看隐藏的文件：ls -a

  可以和-l结合着使用：ls -al

注意点：

- 可以带上路径指定查看哪个路径下的文件夹

#### 3、**<span style='color:red'>*</span>rm**

描述：删除文件/文件夹

语法：

```
rm [options] name...
```

参数：

| 参数 | 说明                           |
| ---- | ------------------------------ |
| -i   | 删除前逐一询问确认，默认会询问 |
| -f   | 无需确认                       |
| -r   | 递归删除                       |

常用例子：

- 删除某文件/文件夹：

  ```shell
  rm -rf 文件名/文件夹名
  ```

- 删除当前目录下的全部文件：

  ```shell
  rm -rf *
  ```

注意点：

- 打死都不要使用rm -rf /，会删掉整个系统的全部目录，而且不可恢复

#### 4、cp

描述：复制文件/文件夹

语法：

```shell
#文件
cp [options] source dest
#文件夹，多个文件或目录复制到某个目录下
cp [options] source... directory
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpr参数组合 |
| -d   | 复制时保留链接。                                             |
| -f   | 覆盖已经存在的目标文件而不给出提示                           |
| -i   | 与 **-f** 选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答 **y** 时目标文件将被覆盖 |
| -p   | 除复制文件的内容外，还把修改时间和访问权限也复制到新文件中   |
| -r   | 递归复制，若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件 |
| -l   | 不复制文件，只是生成链接文件                                 |

常用例子：

- 复制文件到目录下：

  ```shell
  cp test.txt newDir  
  ```

- 复制文件夹到目录下

  ```sh
  cp –r test/ newtest          
  ```

注意点：

- 复制文件一次可以选择多个文件，用空格隔开
- 复制非空目录时，必须加上-r参数，让他递归复制

#### 5、mv

描述：移动文件夹或者重命名

语法：

```cmd
mv [options] source dest
mv [options] source... directory
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -b   | 当目标文件或目录存在时，在执行覆盖前，会为其创建一个备份     |
| -i   | 如果指定移动的源目录或文件与目标的目录或文件同名，则会先询问是否覆盖旧文件，输入 y 表示直接覆盖，输入 n 表示取消该操作 |
| -f   | 如果指定移动的源目录或文件与目标的目录或文件同名，不会询问，直接覆盖旧文件 |
| -n   | 不要覆盖任何已存在的文件或目录                               |
| -u   | 源文件比目标文件新或者目标文件不存在时，才执行移动操作       |

常用例子：

- 修改文件/文件夹名

  ```shell
  mv aaa bbb
  mv aaa/ bbb/
  ```

- 移动文件/文件夹

  ```shell
  mv aaa dir/
  mv aaa/ dir/
  ```

- 批量移动文件，将一个目录下所有文件移动到另一个目录下

  ```shell
  mv aaa/* dir/
  ```

注意点：

- 至于到底是修改文件夹名还是移动文件夹，是要看目标文件夹是否存在的

  ```shell
  mv aaa/ bbb/
  #如果bbb文件夹不存在，则将aaa修改为bbb；如果bbb存在，则将aaa移动到bbb文件夹下
  #如果目标是多级路径，也是一样的道理
  ```

#### 6、tar

描述：打包/解包命令

- linux中的打包文件：aa.tar
- linux中的压缩文件：bb.gz   
- linux中打包并压缩的文件：.tar.gz

语法：

```shell
tar [一大堆参数]
```

参数：

因为参数太多了，所以只列出一些经常用的

| 参数 | 说明               |
| ---- | ------------------ |
| -c   | 创建新的压缩文件   |
| -z   | 支持gzip解压文件   |
| -v   | 显示操作过程       |
| -f   | 压缩后的文件名     |
| -r   | 添加               |
| -t   | 列出压缩包中的文件 |
| -x   | 解压文件           |

常用例子：

- 压缩文件(只列出最常用的方法)

  创建新的可被解压的tar包，并展示压缩过程

  ```shell
  tar -czvf ab.tar aa.txt bb.txt 
  ```

- 往压缩包中添加文件(很少用，建议删除重新打包，真有需要在用)

  ```shell
  tar -crvf ftl.tar.gz hhh.tgz
  ```

- 解压文件

  ```shell
  tar -xzvf test.tar.gz
  ```

- 查看压缩文件列表

  ```shell
  tar -tzvf test.tar.gz
  ```

注意点：

- --c、-t、-x不能出现在同一个命令中

#### 7、grep

描述：文本搜索工具，但实际他比单纯的搜索更强大

语法：

```shell
grep [-abcEFGhHilLnqrsvVwxy][-A<显示行数>][-B<显示列数>][-C<显示列数>][-d<进行动作>][-e<范本样式>][-f<范本文件>][--help][范本样式][文件或目录...]
```

参数：

| 参数 | 说明                               |
| ---- | ---------------------------------- |
| -r   | 递归查找，对文件夹进行查找的时候用 |
| -v   | 排除某种条件                       |
| -e   | 匹配正则                           |
| -i   | 不区分大小写                       |
|      |                                    |

常用例子：

- 因为grep大部分时候是和其他命令配合，这里大致写一个，更多在常用需求里面看

  ```shell
  ps -ef|grep java
  ```

#### 8、find

描述：查询文件/文件夹

语法：

```shell
find path -option [-print] [-exec -okcommand] {} \;
```

参数：

| 参数         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| -name/-iname | 根据文件名,iname不区分你大小写                               |
| -perm        | 权限                                                         |
| -type [d,f]  | 按文件类型查找，这里只列出两种类型，d代表文件夹，f代表普通文件 |

常用例子：

- 按名字查找文件

  ```shell
  find . -name "*.log"
  ```

- 权限查找，查找root下权限为600的目录

  ```shell
  find /root/ -perm 600 
  ```

- 查找目录，并排序

  ```shell
  find . -type d | sort
  ```

- 按大小查找

  ```shell
  find . -size +100M
  ```

#### 9、locate

描述：根据索引查找文件

语法：

```shell
locate [-d ][--help][--version][范本样式...]
```

参数：

| 参数 | 说明                   |
| ---- | ---------------------- |
| -d   | 仅匹配路径名的基本名称 |
| -c   | 仅输出数量             |
| -r   | 正则                   |
| -i   | 忽略大小写             |
|      |                        |

使用实例：

- 查找文件

  ```shell
  locate text.txt
  ```

注意点：

- locate每天自动更新一次

- 如果需要手动更新，则运行下面的语句，更新会很慢

  ```shell
  updatedb11
  ```

10、whereis

描述：查找可执行文件的路径位置

使用实例：whereis ls

11、which

描述：查找环境变量PATH中配置的系统命令的位置

使用实例：which java

### 用户相关命令

#### 基本的用户了解

- 进入系统需要有一个用户
- 每一个用户都至少有一个用户组
- 管理员的用户和组为root:root

#### 1、adduser/useradd

描述：创建用户

语法：

```shell
useradd 选项 用户名
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -c   | 添加注释                                                     |
| -d   | 指定用户主目录，加入给mysql用户专门分配一个目录叫mysql，可以用这个；默认为/home/用户名 |
| -g   | 指定用户的用户组，不指定会默认放到同名用户组，用户组不存在则报错 |
| -G   | 指定用户的附加用户组（多个用户组）                           |
| -s   | 指定用户登录Shell                                            |
| -u   | 用户号                                                       |
| -e   | 设定此帐号的使用期限（格式为 YYYY-MM-DD），预设值为永久有效  |

常用例子：

- 创建mysql用户

  ```
  adduser -g mysql mysql
  ```

注意点：

- adduser和useradd在centeOs下是一模一样的
- 默认用户没有密码，需要用passwd修改密码

#### 2、userdel

描述：删除用户

语法：

```shell
userdel [-r][用户帐号]
```

参数：

- -r：同时删除主目录

#### 3、passwd

描述：修改用户密码

语法：

```shell
passwd [-k] [-l] [-u [-f]] [-d] [-S] [username]
```

参数：

| 参数 | 说明                           |
| ---- | ------------------------------ |
| -d   | 删除密码                       |
| -f   | 强迫用户下次登录时重新输入密码 |
| -w   | 口令要到期提前警告的天数       |
| -k   | 账号过期后才更新               |
| -l   | 禁用账号                       |
| -S   | 显示密码信息                   |
| -u   | 解除禁用                       |
| -x   | 指定口令最长存活期             |
| -g   | 修改群组密码                   |
| -i   | 口令过期后多少天停用账户       |

注意点：

- 自己的账号直接改，其他人的账号要输入原密码进行修改

#### 4、usermod

描述：修改用户信息

语法：

```shell
usermod [-LU][-c <备注>][-d <登入目录>][-e <有效期限>][-f <缓冲天数>][-g <群组>][-G <群组>][-l <帐号名称>][-s <shell>][-u <uid>][用户帐号]
```

参数：

| 参数 | 说明     |
| ---- | -------- |
| -L   | 锁定账号 |
| -U   | 解除锁定 |

常用例子：

- 修改用户的组名

  ```shell
  usermod -g mysql mysql
  ```

- 修改账号名

  ```shell
  usermod -l mysql_bak mysql
  ```

#### 5、groupadd 

描述：新增用户组

相关文件:

- /etc/group 组账户信息。
- /etc/gshadow 安全组账户信息。
- /etc/login.defs Shadow密码套件配置。

语法：

```shell
groupadd [-g gid [-o]] [-r] [-f] group
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -g   | 指定新建工作组的 id                                          |
| -r   | 创建系统工作组，系统工作组的组ID小于 500                     |
| -K   | 覆盖配置文件 "/ect/login.defs"                               |
| -o   | 允许添加组 ID 号不唯一的工作组                               |
| -f   | 如果指定的组已经存在，此选项将失明了仅以成功状态退出。当与 -g 一起使用，并且指定的GID_MIN已经存在时，选择另一个唯一的GID（即-g关闭） |

#### 6、groupdel

描述：删除组命令

语法：

```shell
groupdel [群组名称]
```

注意点：

- 若改组下还有用户，则必须先删除这些用户才行

#### 7、groupmod

描述：修改组

语法：

```shell
groupmod [-g <群组识别码> <-o>][-n <新群组名称>][群组名称]
```

参数：

| 参数           | 说明                   |
| -------------- | ---------------------- |
| -g<群组识别码> | 设置欲使用的群组识别码 |
| -o             | 重复使用群组识别码     |
| -n<新群组名称> | 设置欲使用的群组名称   |

常用例子：

- 修改组名：将linuxso改为linux

  ```shell
  groupmod -n linux linuxso
  ```

#### 8、groups

描述：查看用户所在的组

语法：

```shell
groups [OPTION]... [USERNAME]...
```

注意点：

- 不带参数看自己的组，带参数，有参数对于的组，就看组下所有用户，有参数对于的用户，就看用户的组

#### 9、su

描述：切换用户

语法：

```shell
su [-fmp] [-c command] [-s shell] [--help] [--version] [-] [USER [ARG]]
```

参数：不讲了，基本用不到，平直基本只用来切换用户

常用例子：

- 切换mysql用户

  ```shell
  su mysql
  ```

注意点：

- 普通用户切换其他用户需要输入密码，root不需要

#### 10、sudo

描述：拼在所有命令之前，由sudo执行的命令相当于是root执行的命令，每次执行的时候值需要输入自己的密码即可

配置：

这个临时的root权限实际上是需要进行配置的

在/etc/目录下，有一个sudoer文件，我们可以直接使用vim进行编辑

- 如果想让用户有全部权限

  ```shell
  mysql  ALL=(ALL)   ALL 
  ```

- 如果想让用户只有ll和cd的权限，切不需要输入密码

  ```shell
  hadoop  ALL=NOPASSWD:  /bin/ls, /bin/cat 
  ```

使用例子：

```shell
#开个玩笑，不会真有人去跑吧，出事情作者概不负责
sudo rm -rf /*	
```

### 权限操作命令

#### 基本的权限了解

描述：在Linux中，每个文件或文件夹都是有自己的权限，我们一般使用ll查看文件信息的时候，

```shell
drwxr-xr-x. 10 root root 4096 Dec 27 09:15 a.txt
```

分别分析每一个空格的参数，分别是**权限，目录下文件个数，用户，用户组，大小，修改日期，文件名**

1. 权限：

   - 权限有三种，分别为rwx：

   r代表可读，w代表可写，x代表该文件是一个可执行文件，如果rwx任意位置变为-则代表不可读或不可写或不可执行文件。

   我们一般用二进制对应每一个权限，所以对应：421，一般每一段我们用一个数组来表示即可

   - 权限分为四部分：

   第一位：-就代表是文件，d代表是文件夹
   第一段（3位）：代表拥有者的权限
   第二段（3位）：代表拥有者所在的组，组员的权限
   第三段（最后3位）：代表的是其他用户的权限

   常用的权限是 755 ，即-rwxr-xr-x

2. 用户、用户组

   - 与权限联动，就是用来判断文件与当前登录人的关系，假设当前登录人为mysql:mysql，文件的权限是root:root，很明显不同组，那在使用该文件时就应该查看权限中的第三段权限，以755为例子，则当前的登录用户就只有读和执行的权限

#### 1、chmod

描述：修改文件的权限

语法：

```shell
chmod [-cfvR] [--help] [--version] mode file...
```

参数：

- model：model有自己的格式，\[ugoa...]\[\[+-=]\[rwxX]...][,...]，

| 参数 | 说明                                        |
| ---- | ------------------------------------------- |
| u    | 表示该文件的拥有者                          |
| g    | 表示与该文件的拥有者属于同一个群体(group)者 |
| o    | 表示其他以外的人                            |
| a    | 表示这三者皆是                              |
| +    | 表示增加权限                                |
| -    | 表示取消权限                                |
| =    | 表示唯一设定权限                            |

- 其他参数：

| 参数 | 说明                                       |
| ---- | ------------------------------------------ |
| -c   | 若该文件权限确实已经更改，才显示其更改动作 |
| -f   | 若该文件权限无法被更改也不要显示错误讯息   |
| -v   | 显示权限变更的详细资料                     |
| -R   | 递归的方式逐个变更                         |

常用例子：

- 设置文件的权限为755

  ```shell
  chmod 755 file.txt
  ```

- 递归设置文件夹的权限为755

  ```shell
  chmod -R 755 file
  ```

- 设置当前目录下的文件均为755

  ```shell
  chmod -R 755 *
  ```

注意点：

- 上述例子全是数字，实际这是由二进制代表的，rwx都有就7，r-x就是5

- 如果把755换成完全的写法，应该为

  ```shell
  chmod u=rwx,go=rx file
  ```

- 很少单独增加的权限，如果有，如下，给使用者增加写的权限

  ```shell
  chomod u+w file.txt
  ```

#### 2、chown

描述：修改文件或文件夹的用户和组

语法：

```shell
chown [-cfhvR] [--help] [--version] user[:group] file...
```

参数：

| 参数  | 说明                 |
| ----- | -------------------- |
| user  | 用户名               |
| group | 组名                 |
| -c    | 显示更改的部分的信息 |
| -f    | 忽略错误信息         |
| -h    | 修复符号链接         |
| -v    | 显示详细的处理信息   |
| -R    | 递归修改             |

常用例子：

- 修改文件夹的用户和组

  ```shell
  chown -R mysql:mysql mysql
  ```

注意点：

- 任意写，可以只修改用户，只修改组（冒号加上组名即可），正则匹配文件

### 网络相关

1、ipconfig

描述：查看网络信息

常用例子：

- ipconfig：查看部分网络信息
- ipconfig all ：查看全部网络信息

2、ping

描述：测试网络连通情况

常用例子

- ping www.baidu.com

## 三、常用命令以及组合用法

1、查看当前目录：

```shell
pwd
```

2、查看进程：

```shell
# 查看所有进程
ps -ef
# 查看某类进程
ps -ef|grep java
```

3、结束进程：

```shell
kill -9 pid
```

4、查看pid对应的端口

```shell
netstat -nap | grep pid
```

5、查看端口对于的进程

```shell
netstat -tunlp | grep port
```

