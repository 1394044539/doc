## 一、概述

Linux和windows一样是操作系统，比windows稳定，大部分时候我们都是把服务部署在Linux上的，且没有可视化界面，因此学会使用Linux的命令是非常重要的，一些Linux的东西都会在命令中进行讲解

实际上Linux中的命令非常非常多，这里也只会列出一部分进行讲解

## 二、Linux一些配置

CentOS 有个很方便的软件安装工具yum，但是默认安装完CentOS，系统里使用的是国外的CentOS更新源，

这就造成了我们使用默认更新源安装或者更新软件时速度很慢的问题，甚至更新失败。
为了使用yum工具能快速的安装更新软件，我们需要将默认的yum更新源配置为国内的更新源。

查看密码

grep 'password' /var/log/mysqld.log

docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.5

```
wget http://repo.mysql.com/MySQL-server-5.5.15-1.linux2.6.x86_64.rpm
```

阿里云的源

```
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo 
```

或者网易云的源

```
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo
yum clean all
yum makecache
```

## 二、基本命令

### 全局参数

#### 1、--help

描述：帮助，接在命令后面，用来查看命令的参数和意思

用法：

```
任意命令 --help
```

### 系统相关

#### 1、yum

描述：用来管理软件

语法：

```
yum [options] [command] [package ...]
```

参数：

| 参数          | 作用         |
| ------------- | ------------ |
| -q            | 静默执行     |
| -t            | 忽略错误     |
| -R[分钟]      | 设置等待时间 |
| -y            | 自动应答yes  |
| --skip-broken | 忽略依赖问题 |
| --nogpgcheck  | 忽略GPG验证  |

命令：

| 参数                                | 作用                     |
| ----------------------------------- | ------------------------ |
| check-update                        | 列出所有可更新的软件清单 |
| install <package_name>              | 仅安装指定的软件         |
| update <package_name>               | 更新软件                 |
| list                                | 列出所有可安裝的软件清单 |
| remove <package_name>               | 删除软件包               |
| search \<keyword>                   | 查找软件包               |
| clean [packages,headers,oldheaders] | 清除缓存                 |

常用例子

- 安装软件(以foo-x.x.x.rpm为例）：yum install foo-x.x.x.rpm

- 删除软件：yum remove foo-x.x.x.rpm或者yum erase foo-x.x.x.rpm


- 升级软件：yum upgrade foo或者yum update foo


- 查询信息：yum info foo


- 搜索软件（以包含foo字段为例）：yum search foo


- 显示软件包依赖关系：yum deplist foo


#### 2、shutdown

描述：关键命令

语法：

```shell
shutdown [-t seconds] [-rkhncfF] time [message]
```

参数说明：

| 参数       | 说明                                                         |
| ---------- | ------------------------------------------------------------ |
| -t seconds | 设定在几秒钟之后进行关机程序。                               |
| -k         | 并不会真的关机，只是将警告讯息传送给所有使用者               |
| -r         | 重新开机                                                     |
| -h         | 关机后停机                                                   |
| -n         | 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机 |
| -c         | 取消目前已经进行中的关机动作                                 |
| -f         | 关机时，不做 fsck 动作(检查 Linux 档系统)。                  |
| -F         | 关机时，强迫进行 fsck 动作。                                 |
| time       | 设定关机的时间                                               |
| message    | 传送给所有使用者的警告讯息                                   |

常用例子：

不建议使用

注意点：

- 可以用now代表立即执行，shutdown -h now

- 直接在命令后面接数字代表的是分钟，如shutdown -h 5指的是5分钟后关机 
- 实际上关机有**poweroff**命令，重启有**reboot**命令

### 文件/目录操作命令

#### 1、cd

描述：切换迷离

语法：

```
cd [dirName]
```

常用例子：

- cd /        切换到根目录
- cd /usr        切换到根目录下的usr目录
- cd ../        切换到上一级目录 或者  cd ..
- cd ~        切换到home目录
- cd -        切换到上次访问的目录

#### 2、ls

描述：查看目录下的文件内容

语法：

```
ls [-alrtAFR] [name...]
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 显示所有文件及目录 (**.** 开头的隐藏文件也会列出)            |
| -l   | 除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出 |
| -r   | 将文件以相反次序显示(原定依英文字母次序)                     |
| -t   | 将文件依建立时间之先后次序列出                               |
| -A   | 同 -a ，但不列出 "." (目前目录) 及 ".." (父目录)             |
| -F   | 在列出的文件名称后加一符号；例如可执行档则加 "*", 目录则加 "/" |
| -R   | 若目录下有文件，则以下之文件亦皆依序列出                     |

常用例子：

- 查看所有文件的详细内容：ll

  ll就是ls -l

- 查看隐藏的文件：ls -a

  可以和-l结合着使用：ls -al

注意点：

- 可以带上路径指定查看哪个路径下的文件夹

#### 3、mkdir

描述：创建文件夹

语法：

```
mkdir [-p] dirName
```

参数：

| 参数 |                             说明                             |
| ---- | :----------------------------------------------------------: |
| -p   | 递归创建，按照路径创建时，父级路径不存在，如果不加参数，会报错，加上-p则会一起创建 |

常用例子：

- 在当前目录创建文件夹：mkdir test

#### 4、rmdir

描述：删除空文件夹

语法：

```
rmdir [-p] dirName
```

参数：

| 参数 |                             说明                             |
| ---- | :----------------------------------------------------------: |
| -p   | 递归删除空文件夹，按照路径删除时，父级文件夹下面为空会一起删除 |

常用例子：

不用，一般只用rm命令，rmdir只能删除空文件，并不实用

#### **5、*rm**

描述：删除文件/文件夹

语法：

```
rm [options] name...
```

参数：

| 参数 | 说明                           |
| ---- | ------------------------------ |
| -i   | 删除前逐一询问确认，默认会询问 |
| -f   | 无需确认                       |
| -r   | 递归删除                       |

常用例子：

- 删除某文件/文件夹：

  ```shell
  rm -rf 文件名/文件夹名
  ```

- 删除当前目录下的全部文件：

  ```shell
  rm -rf *
  ```

注意点：

- 打死都不要使用rm -rf /，会删掉整个系统的全部目录，而且不可恢复

#### 6、cp

描述：复制文件/文件夹

语法：

```shell
#文件
cp [options] source dest
#文件夹，多个文件或目录复制到某个目录下
cp [options] source... directory
```

参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpr参数组合 |
| -d   | 复制时保留链接。                                             |
| -f   | 覆盖已经存在的目标文件而不给出提示                           |
| -i   | 与 **-f** 选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答 **y** 时目标文件将被覆盖 |
| -p   | 除复制文件的内容外，还把修改时间和访问权限也复制到新文件中   |
| -r   | 递归复制，若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件 |
| -l   | 不复制文件，只是生成链接文件                                 |

常用例子：

- 复制文件到目录下：

  ```shell
  cp test.txt newDir  
  ```

- 复制文件夹到目录下

  ```sh
  cp –r test/ newtest          
  ```

注意点：

- 复制文件一次可以选择多个文件，用空格隔开
- 复制非空目录时，必须加上-r参数，让他递归复制

#### 7、mv